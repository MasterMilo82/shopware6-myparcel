(window.webpackJsonp=window.webpackJsonp||[]).push([["kiener-my-parcel"],{pOjZ:function(e,r,t){"use strict";t.r(r);t("wcNg");var o=t("k8s9"),n=t("FGIj"),i=t("prSB");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,r){return!r||"object"!==c(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,r){return(a=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var s,y,f,m=function(e){function r(){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),l(this,p(r).apply(this,arguments))}var t,n,c;return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&a(e,r)}(r,e),t=r,(n=[{key:"init",value:function(){console.log("init myparcel"),this.loadMethodOptions();var e=document.querySelectorAll(this.options.shippingForm),r=i.a.getItem(this.options.cookieName);if(!r)return!1;var t=r.split("_"),o=t[0],n=t[1],c=t[2],u=t[3];if(e&&n>0){var l=document.querySelector('div[data-shipping-method-id="'+o+'"]'),p=l.querySelector('input[name="myparcel_delivery_type"][value="'+n+'"]');p.checked=!0;var a="";if(c>0){var s=l.querySelector('input[name="myparcel_requires_signature"]'),y=l.querySelector('label[for="'+s.id+'"]').firstChild.textContent;s.checked=!0,a+=y,u>0&&(a+=", ")}if(u>0){var f=l.querySelector('input[name="myparcel_only_recipient"]'),m=l.querySelector('label[for="'+f.id+'"]').firstChild.textContent;f.checked=!0,a+=m}(u>0||c>0)&&(a=" ("+a+")");var d=p.id,h=l.querySelector('label[for="'+d+'"]').firstChild.textContent;document.querySelector(this.options.currentShipping).innerHTML+="<br/><small>"+h+a+"</small>";var b=document.querySelector(this.options.confirmOrderForm),v=b.querySelector('input[name="myparcel[shipping_method_id]"]'),g=b.querySelector('input[name="myparcel[delivery_type]"]'),S=b.querySelector('input[name="myparcel[requires_signature]"]'),_=b.querySelector('input[name="myparcel[only_recipient]"]');v.value=o,g.value=n,S.value=c,_.value=u}}},{key:"loadMethodOptions",value:function(){new o.a(window.accessKey,window.contextToken).get("/myparcel/delivery_options",(function(e){var r=JSON.parse(e);0==r.success&&"422"==r.code||0!=r.success&&(console.log(r.delivery_options),r.delivery_options.forEach((function(e){console.log(e)})))}))}}])&&u(t.prototype,n),c&&u(t,c),r}(n.a);f={cookieName:"myparcel-cookie-key",shippingForm:".myparcel_shipping_form",confirmOrderForm:"form#confirmOrderForm",currentShipping:"p.confirm-shipping-current"},(y="options")in(s=m)?Object.defineProperty(s,y,{value:f,enumerable:!0,configurable:!0,writable:!0}):s[y]=f,window.PluginManager.register("MyParcelShippingOptions",m)}},[["pOjZ","runtime","vendor-node","vendor-shared"]]]);